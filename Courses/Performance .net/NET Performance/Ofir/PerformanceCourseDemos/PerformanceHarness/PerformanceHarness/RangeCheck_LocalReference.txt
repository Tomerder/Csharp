using System;
using PerformanceHarness;

[MeasurableClass]
public static class LocalArrayReferenceTest
{
     private static volatile byte[] _data;
     private static volatile int _sum;

	[SetupMethod]
	static void Setup()
	{
          _data = new byte[1000];
	}

	[TeardownMethod]
	static void Teardown()
	{
	}

	[MeasurableMethod]
	static void Measure()
	{
          byte[] localRef = _data;
		for (int __i = 0; __i < %NUMBER_OF_ITERATIONS%; ++__i)
		{
              for (int i = 0; i < localRef.Length; ++i)
                  _sum += localRef[i];
		}
	}
}