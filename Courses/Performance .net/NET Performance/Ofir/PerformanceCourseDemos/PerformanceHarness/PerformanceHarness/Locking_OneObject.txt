using System;
using System.Threading;
using PerformanceHarness;

[MeasurableClass]
public static class LockOneObject
{
     private static object[] _objects = new object[%NUMBER_OF_ITERATIONS%];

	[SetupMethod]
	static void Setup()
	{
          for (int i = 0; i < _objects.Length; ++i)
              _objects[i] = new object();
	}

	[TeardownMethod]
	static void Teardown()
	{
	}

	[MeasurableMethod]
	static void Measure()
	{
		for (int __i = 0; __i < %NUMBER_OF_ITERATIONS%; ++__i)
		{
               Monitor.Enter(_objects[0]);
               Monitor.Exit(_objects[0]);
		}
	}
}